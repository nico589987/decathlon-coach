export type Language = "fr" | "en";

const STORAGE_KEY = "app_language";

export const translations = {
  fr: {
    language: "Français",
    english: "Anglais",
    coach: "Coach",
    program: "Programme",
    shop: "Boutique",
    suivi: "Suivi",
    menu: "Menu",
    skip: "Aller au contenu",
    ready: "Ready to play?",
    start: "Démarrer",
    startCoach: "Démarrer avec le coach",
    viewProgram: "Voir mon programme",
    homeTitle: "Ton coach IA Decathlon, clair, motivant, efficace.",
    homeSubtitle:
      "Crée un programme personnalisé en quelques minutes, suis tes séances, et reçois des recommandations produits adaptées à tes objectifs.",
    stepsTitle: "Ton parcours en 3 étapes",
    step1Title: "Réponds aux questions",
    step1Desc: "Objectifs, niveau, matériel, contraintes.",
    step2Title: "Programme intelligent",
    step2Desc: "Séances structurées, ajustées selon ton ressenti.",
    step3Title: "Produits adaptés",
    step3Desc: "Recommandations Decathlon adaptées à tes séances et ton matériel.",
    featuresPlan: "Plan clair",
    featuresPlanDesc: "Des séances lisibles et découpées par sections.",
    featuresFollow: "Suivi motivant",
    featuresFollowDesc: "Marque tes séances effectuées et suis ta progression.",
    featuresDash: "Tableau de bord",
    featuresDashDesc: "Analyse tes performances et ton rythme sur la page Suivi.",
    featuresTips: "Conseils utiles",
    featuresTipsDesc: "Hydratation, récupération, prévention des blessures.",
    featuresShop: "Boutique ciblée",
    featuresShopDesc: "Accès rapide aux produits pertinents.",
    ctaTitle: "Prêt à commencer ?",
    ctaDesc:
      "Lance une première conversation et reçois ta séance personnalisée.",
    ctaButton: "Créer mon programme",
    account: "Compte",
    login: "Se connecter",
    signup: "Créer un compte",
    email: "Email",
    password: "Mot de passe",
    profile: "Profil",
    firstName: "Prénom",
    birthDate: "Date de naissance",
    weight: "Poids (kg)",
    sex: "Sexe",
    goal: "Objectif",
    level: "Niveau",
    location: "Lieu",
    equipment: "Matériel",
    injuries: "Blessures",
    save: "Enregistrer",
    cancel: "Annuler",
    edit: "Modifier",
    send: "Envoyer",
    newChat: "Nouvelle conversation",
    addSessions: "Ajouter ces séances",
    addSession: "Ajouter la séance",
    remove: "Supprimer",
    recommendedProducts: "Produits recommandés",
    markDone: "Marquer effectuée",
    backToShop: "Retour boutique",
    buyOnDecathlon: "Acheter sur Decathlon",
  },
  en: {
    language: "English",
    english: "English",
    coach: "Coach",
    program: "Program",
    shop: "Shop",
    suivi: "Progress",
    menu: "Menu",
    skip: "Skip to content",
    ready: "Ready to play?",
    start: "Start",
    startCoach: "Start with coach",
    viewProgram: "View my program",
    homeTitle: "Your Decathlon AI coach — clear, motivating, effective.",
    homeSubtitle:
      "Create a personalized plan in minutes, track your sessions, and get product recommendations tailored to your goals.",
    stepsTitle: "Your journey in 3 steps",
    step1Title: "Answer quick questions",
    step1Desc: "Goals, level, equipment, constraints.",
    step2Title: "Smart program",
    step2Desc: "Structured sessions adjusted to your feedback.",
    step3Title: "Right products",
    step3Desc: "Decathlon recommendations for your sessions and gear.",
    featuresPlan: "Clear plan",
    featuresPlanDesc: "Readable sessions split into sections.",
    featuresFollow: "Motivating tracking",
    featuresFollowDesc: "Mark sessions done and follow progress.",
    featuresDash: "Dashboard",
    featuresDashDesc: "Analyze performance and weekly rhythm.",
    featuresTips: "Helpful tips",
    featuresTipsDesc: "Hydration, recovery, injury prevention.",
    featuresShop: "Targeted shop",
    featuresShopDesc: "Quick access to relevant products.",
    ctaTitle: "Ready to start?",
    ctaDesc: "Start a conversation and get your tailored session.",
    ctaButton: "Create my program",
    account: "Account",
    login: "Sign in",
    signup: "Create account",
    email: "Email",
    password: "Password",
    profile: "Profile",
    firstName: "First name",
    birthDate: "Birth date",
    weight: "Weight (kg)",
    sex: "Sex",
    goal: "Goal",
    level: "Level",
    location: "Location",
    equipment: "Equipment",
    injuries: "Injuries",
    save: "Save",
    cancel: "Cancel",
    edit: "Edit",
    send: "Send",
    newChat: "New chat",
    addSessions: "Add these sessions",
    addSession: "Add session",
    remove: "Remove",
    recommendedProducts: "Recommended products",
    markDone: "Mark done",
    backToShop: "Back to shop",
    buyOnDecathlon: "Buy on Decathlon",
  },
} satisfies Record<Language, Record<string, string>>;

export function getStoredLanguage(): Language {
  if (typeof window === "undefined") return "fr";
  const raw = window.localStorage.getItem(STORAGE_KEY);
  return raw === "en" ? "en" : "fr";
}

export function setStoredLanguage(lang: Language) {
  if (typeof window === "undefined") return;
  window.localStorage.setItem(STORAGE_KEY, lang);
  window.dispatchEvent(new Event("languagechange"));
}
